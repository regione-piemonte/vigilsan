<!--
  - Copyright Regione Piemonte - 2024
  - SPDX-License-Identifier: EUPL-1.2
  -->

<div class="row">
  <div class="col-auto d-flex align-items-center">
    <h2 mat-dialog-title class="m-0">
      Scarico Excel Storico Rilevazioni
    </h2>
  </div>
</div>
<div mat-dialog-content>
  <div class="row mt-3">
    <div class="col-md-1"></div>
    <div class="col-md-10 w-100">
      <!-- DATA A -->
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Data rilevazioni da</mat-label>
        <input matInput [matDatepicker]="startPicker" [formControl]="dataDa" readonly>
        <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
        <mat-datepicker #startPicker disabled="false"></mat-datepicker>
      </mat-form-field>
    </div>
    <div class="col-md-1"></div>
  </div>

  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-10 w-100">
      <!-- DATA B -->
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Data rilevazioni a</mat-label>
        <input matInput [matDatepicker]="endPicker" [formControl]="dataA" readonly>
        <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
        <mat-datepicker #endPicker disabled="false"></mat-datepicker>
      </mat-form-field>
    </div>
    <div class="col-md-1"></div>
  </div>

  <div class="row mb-3">
    <div class="col-md-1"></div>
    <div class="col-md-10 w-100">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label class="mat-label">Tipo</mat-label>
        <mat-select [formControl]="tipo">
          <mat-option *ngFor="let tipo of listaTipi" [value]="tipo">
            {{tipo}}
          </mat-option>
        </mat-select>
        <mat-error>
          Tipo obbligatorio
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col-md-1"></div>
  </div>

</div>
<div mat-dialog-actions>
  <button mat-button mat-dialog-close>CHIUDI</button>
  <button type="button" class="btn btn-primary button-basic ml-auto" (click)="scaricaCsv()" [disabled]="!tipo.valid">
    <span *ngIf="!loadCsv">SCARICA</span>
    <span *ngIf="loadCsv">IN CARICAMENTO ...</span>
  </button>
</div>
